<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <button class="send-req-btn">Отправить команду</button>
  <p>Статус: <p class="status-text"></p></p>
</body>
<script>
  const initWSBtn = document.querySelector('.init-ws-btn');
  const sendReqBtn = document.querySelector('.send-req-btn');
  const statusText = document.querySelector('.status-text');



  function sendReq() {
    const url = "http://81.200.146.157:8000/api/command";
    const data = {
      chipID: "ESP32-LGD67cdvznCawTzbdsxF",
      command: "chip-light-off"
    };

    fetch(url, {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(data)
    })
    .then(response => {
      if (!response.ok) {
        throw new Error(`HTTP error! Status: ${response.status}`);
      }
      console.log(response);
    })
    .catch(error => {
      console.error("Ошибка запроса:", error);
    });
  }

  sendReqBtn.addEventListener('click', () => {
    sendReq();
  });
</script>
</html>